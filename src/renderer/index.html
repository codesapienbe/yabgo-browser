<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YABGO Browser</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Custom title bar -->
        <div class="title-bar">
            <div class="title-bar-left">
                <div class="logo">ðŸš€ YABGO</div>
                <div class="version">v1.0.0</div>
            </div>
            <div class="title-bar-right">
                <button class="window-btn settings-btn" id="mcpSettingsBtn" title="MCP Settings">âš™</button>
                <button class="window-btn reader-btn" id="readerToggle" title="Reader">R</button>
                <button class="window-btn minimize-btn" id="minimizeBtn" title="Minimize">âˆ’</button>
                <button class="window-btn maximize-btn" id="maximizeBtn" title="Maximize">â–¡</button>
                <button class="window-btn close-btn" id="closeBtn" title="Close">Ã—</button>
            </div>
        </div>

        <!-- Tab bar -->
        <div class="tab-bar" id="tabContainer">
            <!-- Tabs will be dynamically inserted here -->
        </div>

        <!-- Main browser content area -->
        <div class="browser-content">
            <div class="webview-container" id="webviewContainer">
                <!-- Webviews will be dynamically inserted here -->
            </div>
        </div>

        <!-- Gesture zones (invisible overlays) -->
        <div class="gesture-zone left-zone" id="leftGesture" title="Swipe right for back"></div>
        <div class="gesture-zone right-zone" id="rightGesture" title="Swipe left for forward"></div>
        <div class="gesture-zone top-zone" id="topGesture" title="Swipe down for refresh"></div>
        <div class="gesture-zone bottom-zone" id="bottomGesture" title="Swipe up for scroll to top"></div>

        <!-- Glassmorphic overlays -->
        <div class="glass-overlay bottom">
            <!-- Assistant response area -->
            <div class="assistant-response" id="assistantResponse"></div>

            <!-- Unified input container -->
            <div class="input-container" id="inputContainer">
                <div class="input-wrapper">
                    <input type="text" class="unified-input" id="unifiedInput" placeholder="Enter URL or search..."
                        autocomplete="off" spellcheck="false">
                    <button class="input-btn" id="inputBtn" title="Go">â†’</button>
                </div>
            </div>
        </div>

        <!-- Loading indicator -->
        <div class="loading-indicator" id="loadingIndicator">
            <div class="loading-bar"></div>
        </div>

        <!-- MCP Status Indicator -->
        <div id="mcpIndicator" class="mcp-indicator hidden">
            <div class="mcp-indicator-dot"></div>
            <span class="mcp-indicator-text">0 MCP</span>
        </div>

        <!-- Reader overlay -->
        <div id="readerOverlay" class="reader-overlay"></div>

        <!-- MCP Settings Modal -->
        <div id="mcpSettingsModal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>MCP Servers</h2>
                    <button class="modal-close" id="mcpModalClose">Ã—</button>
                </div>

                <div class="mcp-server-list" id="mcpServerList">
                    <!-- Server items will be added dynamically -->
                </div>

                <button class="btn-primary" id="addMCPServerBtn">
                    + Add MCP Server
                </button>
            </div>
        </div>

        <!-- Add Server Modal -->
        <div id="mcpServerFormModal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Add MCP Server</h2>
                    <button class="modal-close" id="mcpFormModalClose">Ã—</button>
                </div>

                <div class="form-group">
                    <label>Server Name</label>
                    <input type="text" id="mcpServerName" placeholder="My MCP Server">
                </div>

                <div class="form-group">
                    <label>Command</label>
                    <input type="text" id="mcpServerCommand" placeholder="node">
                </div>

                <div class="form-group">
                    <label>Arguments (comma-separated)</label>
                    <input type="text" id="mcpServerArgs" placeholder="path/to/server.js">
                </div>

                <div class="permissions-section">
                    <h3>Permissions</h3>
                    <label class="checkbox-label">
                        <input type="checkbox" id="permShareHistory">
                        <span>Share browsing history</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="permShareContent">
                        <span>Share page content</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="permShareSelection">
                        <span>Share text selections</span>
                    </label>
                </div>

                <div class="modal-actions">
                    <button class="btn-primary" id="mcpSaveBtn">Save & Connect</button>
                    <button class="btn-secondary" id="mcpCancelBtn">Cancel</button>
                </div>
            </div>
        </div>

        <!-- JSON Edit Modal -->
        <div id="mcpServerJsonModal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Edit MCP Server JSON</h2>
                    <button class="modal-close" id="mcpJsonModalClose">Ã—</button>
                </div>

                <div class="form-group">
                    <label>Server JSON</label>
                    <textarea id="mcpServerJson" style="width:100%;height:260px;font-family:monospace"></textarea>
                </div>

                <div class="modal-actions">
                    <button class="btn-primary" id="mcpJsonSaveBtn">Save & Apply</button>
                    <button class="btn-secondary" id="mcpJsonCancelBtn">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="renderer.bundle.js"></script>
</body>

</html>